
<div class="flex flex-col py-6 bg-gray-100">
  <!-- todo -->
    <div class="content max-w-7xl mx-auto">
        <div class="relative max-w-5xl  mx-auto">
            <div class="grid w-xl static gap-5 grid-flow-col-dense grid-cols-1 sm:grid-cols-2 md:grid-cols-5 xl:grid-cols-5">
                <% propertybuyad.propertytypewishes.each do |wish| %>
                    <div class="relative h-48 w-48 border-2 border-slate-300 bg-blue-100 rounded-md"> 
                        <div class="absolute inset-x-0 bottom-24">
                            <div class="flex justify-center">
                                <img class="w-20" src="/images/maison.png" >
                            </div>
                        </div> 
                        <div class="absolute inset-x-0 bottom-0 h-16 text-center" >
                            <span class="text-indigo-600 text-2xl font-semibold"><%= wish.type.typeName %></span>
                        </div>
                    </div>
                <%end%>        
                <% propertybuyad.propertydetailwishes.each do |wish| %>
                    <div class="relative h-48 w-48 border-2 border-slate-300 bg-blue-100 rounded-md"> 
                    <div class="absolute inset-x-0 bottom-24">
                            <div class="flex justify-center">                                
                                <% case wish.type.typekey %>
                                    <% when 'rooms' %>
                                        <img class="w-16" src="/images/pieces.png" >
                                    <% when 'bedrooms' %>
                                        <img class="w-16" src="/images/bedrooms.png" >
                                    <% when 'livingarea' %>
                                    <img class="w-16" src="/images/surface.png" >
                                <%end%>
                            </div>
                        </div>
                        <div class="absolute inset-x-0 bottom-0 h-16 text-center" >
                            <span class="text-indigo-600 text-2xl font-semibold">
                                <%= wish.comment %> 
                                <%= format_properties(wish.type.typekey,false) %>
                            </span>
                        </div>
                    </div>
                <%end%>
                <div class="relative h-48 w-48 border-2 border-slate-300 bg-indigo-200 rounded-md">   
                    <div class="absolute inset-x-0 bottom-24">
                        <div class="flex justify-center">
                            <img class="w-24" src="/images/budget.png" >
                        </div>
                    </div> 
                    <div class="absolute inset-x-0 bottom-14 h-10 text-center mb:5">      
                        <span class="text-indigo-50 text-xl font-bold">maximun</span>
                    </div>
                    <div class="absolute inset-x-0 bottom-0 h-16 text-center">
                        <span class="text-indigo-600 text-2xl font-bold">
                            <%= number_to_currency( propertybuyad.budget, locale: :fr, precision: 0) %>
                        </span>
                    </div>
                </div>          
            </div>
        
        </div>
        <div class="relative mt-6 p-6 w-7xl bg-white rounded-md shadow-md " style="width:1280px">
            <div class="flex flex-nowrap w-full mt-2">
                <div class="w-full justify-start inline-flex space-x-4 " >
                    <div class="font-medium pt-1 text-3xl font-bold" >
                        <span class="">Détails de la </span>
                        <span class=" text-indigo-600 ">Recherche</span>
                    </div>
                </div>
                <div class="flex flex-row justify-end ">
                    <div class="flex flex-align-items-end mr-1 " >
                        <div class="text-xs text-blue-700" >
                            <div class="drop-shawdow-md rounded-full border-2 w-11 h-11 ">
                                <img src="/images/partage.png" class="w-5 m-2" >
                            </div>
                        </div>
                    </div>
                    <div  class="mt-2 mr-5">                        
                        <h1>Partager</h1>
                    </div>
                </div>
            </div>
  <!-- divider -->
            <div class="flex pb-4 border-t-4 border-gray-900 w-80 mt-8"></div>
            <div class="mt-4">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Viverra ipsum nunc aliquet bibendum. Magnis dis parturient montes nascetur. Mi ipsum faucibus vitae aliquet. Risus pretium quam vulputate dignissim suspendisse in est ante in. Dolor morbi non arcu risus quis varius quam. Enim praesent elementum facilisis leo. Sem viverra aliquet eget sit amet tellus cras. Ipsum nunc aliquet bibendum enim facilisis gravida neque convallis a. Cras tincidunt lobortis feugiat vivamus at augue eget arcu dictum. Elementum pulvinar etiam non quam.</div>
            <div class="mt-8 inline-flex">
                <span class="mt-1"><img src="/images/qui.png" ></span>
                <span class="ml-4 text-2xl font-medium">En savoir plus sur l'acheteur</span>
            </div>
            <div class="mt-6">Eget dolor morbi non arcu. Placerat orci nulla pellentesque dignissim enim. Pharetra sit amet aliquam id diam. Integer vitae justo eget magna fermentum iaculis. Nec tincidunt praesent semper feugiat nibh sed pulvinar. Scelerisque eleifend donec pretium vulputate. </div>
  <!-- divider -->
            <div class="flex pb-4 border-t border-gray-400 mt-8"></div>
            <div class=" mt-2"><span class="text-2xl font-medium">Les secteurs recherchés</span></div>
            <div class="flex flex-row mt-6" >
                <div class="flex flex-row border-2 border-gray-200 p-3 rounded-xs mr-5">
                    <div class="mr-2"><img src="/images/pin_location.png" class="w-5" ></div>
                    <div>Villiers sur Marne 94350</div>
                </div>
                <div class="flex flex-row border-2 border-gray-200 p-3 rounded-xs mr-5">
                    <div class="mr-2"><img src="/images/pin_location.png" class="w-5" ></div>
                    <div>Champigny-sur-Marne 94500</div>
                </div>
            </div>
    <!-- divider -->
            <div class="flex pb-4 border-t border-gray-400 mt-8"></div>
            <div class="flex flex-wrap mt-2">
                <div class="w-3/4 text-xl ">
                    <div class="static" >
                        <div class="flex gap-5 text-lg">
                            <div class="text-2xl font-medium ml-5">Les criètres souhaités</div>
                            <div class="relative w-48 text-lg">
                                <div class="absolute bottom-0 z-20">/ * Obligatoire</div>
                                <div class="absolute bottom-0 left-5 h-3 w-24 z-10 bg-yellow-200 "></div>
                            </div>
                        </div>
                    </div>
                    <div class="grid static gap-5 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-3 mt-8">
                        <% propertybuyad.propertydetailwishes.where("wishlevel in (3,4)").each do |wish| %>
                            <div class="flex flex-row">
                                <div class="mr-5"><img src="/images/ok.png" ></div>
                                <% if wish.wishlevel == 4 %>
                                    <div class="relative w-60 ">
                                        <div class="absolute bottom-0 ">
                                            <div class="flex gap-2 ">
                                                <div class="z-20 ml-1" ><%= wish.comment %></div>
                                                <div class="z-20 mr-2" ><%= format_properties(wish.type.typekey,true) %></div>
                                                <div class="absolute bottom-0 h-3 w-full z-10 bg-yellow-200 "></div>
                                            </div>
                                        </div>
                                    </div>
                                <%else%>
                                    <div class="mr-2"><%= wish.comment %></div>
                                    <div><%= format_properties(wish.type.typekey,true) %></div>
                                <%end%>
                            </div>
                        <%end%>
                        <% propertybuyad.propertystatewishes.where("wishlevel in (3,4)").each do |wish| %>
                            <div class="flex flex-row">
                                <div class="mr-5"><img src="/images/ok.png" ></div>
                                <% if wish.wishlevel == 4 %>
                                    <div class="relative w-60 ">
                                        <div class="absolute bottom-0 ">
                                            <div class="flex ">
                                                <div class="z-20 ml-1 mr-2"><%= wish.type.typeName %></div>
                                                <div class="absolute bottom-0 h-3 w-full z-10 bg-yellow-200 "></div>
                                            </div>
                                        </div>
                                    </div>
                                <%else%>
                                    <div class=""><%= wish.type.typeName %></div>
                                <%end%>
                            </div>
                        <%end%>
                        <% propertybuyad.insidefeaturewishes.where("wishlevel in (3,4)").each do |wish| %>
                            <div class="flex flex-row">
                                <div class="mr-5"><img src="/images/ok.png" ></div>
                                <% if wish.wishlevel == 4 %>
                                    <div class="relative w-60 ">
                                        <div class="absolute bottom-0 ">
                                            <div class="flex ">
                                                <div class="z-20 ml-1 mr-2"><%= wish.type.typeName %></div>
                                                <div class="absolute bottom-0 h-3 w-full z-10 bg-yellow-200 "></div>
                                            </div>
                                        </div>
                                    </div>
                                <%else%>
                                    <div class=""><%= wish.type.typeName %></div>
                                <%end%>
                            </div>
                        <%end%>
                        <% propertybuyad.outsidefeaturewishes.where("wishlevel in (3,4)").each do |wish| %>
                            <div class="flex flex-row">
                                <div class="mr-5"><img src="/images/ok.png" ></div>
                                <% if wish.wishlevel == 4 %>
                                    <div class="relative w-60 ">
                                        <div class="absolute bottom-0 ">
                                            <div class="flex ">
                                                <div class="z-20 ml-1 mr-2"><%= wish.type.typeName %></div>
                                                <div class="absolute bottom-0 h-3 w-full z-10 bg-yellow-200 "></div>
                                            </div>
                                        </div>
                                    </div>
                                <%else%>
                                    <div class=""><%= wish.type.typeName %></div>
                                <%end%>
                            </div>
                        <%end%>
                        <% propertybuyad.sharedfeaturewishes.where("wishlevel in (3,4)").each do |wish| %>
                            <div class="flex flex-row">
                                <div class="mr-5"><img src="/images/ok.png" ></div>
                                <% if wish.wishlevel == 4 %>
                                    <div class="relative w-60 ">
                                        <div class="absolute bottom-0 ">
                                            <div class="flex ">
                                                <div class="z-20 ml-1 mr-2"><%= wish.type.typeName %></div>
                                                <div class="absolute bottom-0 h-3 w-full z-10 bg-yellow-200 "></div>
                                            </div>
                                        </div>
                                    </div>
                                <%else%>
                                    <div class=""><%= wish.type.typeName %></div>
                                <%end%>
                            </div>
                        <%end%>
                    </div> 
                </div>
                <div class="w-1/4">
                    <div class="relative w-60 text-2xl text-indigo-700 font-medium mt-8">
                        <div class="absolute bottom-0 ">
                            <div class="flex">
                                <div class="z-20 ml-1 mr-1">Coup coeur assuré!</div>
                                <div class="absolute bottom-0 h-3 w-full z-10 bg-indigo-200 "></div>
                            </div>
                        </div>
                    </div>  
                    <div class="relative pt-7">
                        <div class="grid gap-5 grid-cols-1 sm:grid-cols-1 md:grid-cols-1 xl:grid-cols-1 text-xl">
                            <% propertybuyad.propertydetailwishes.where("wishlevel in (2)").each do |wish| %>
                                <div class="flex flex-row">
                                    <div class="mt-1 mr-5"><img src="/images/coeurbleu.png" ></div>
                                    <div class="mr-2"><%= wish.comment %></div>
                                    <div class=""><%= format_properties(wish.type.typekey,true) %></div>
                                </div>
                            <%end%>
                            <% propertybuyad.propertystatewishes.where("wishlevel in (2)").each do |wish| %>
                                <div class="flex flex-row">
                                    <div class="mt-1 mr-5"><img src="/images/coeurbleu.png" ></div>
                                    <div class=""><%= wish.type.typeName %></div>
                                </div>
                            <%end%>
                            <% propertybuyad.insidefeaturewishes.where("wishlevel in (2)").each do |wish| %>
                                <div class="flex flex-row">
                                    <div class="mt-1 mr-5"><img src="/images/coeurbleu.png"></div>
                                    <div class=""><%= wish.type.typeName %></div>
                                </div>
                            <%end%>
                            <% propertybuyad.outsidefeaturewishes.where("wishlevel in (2)").each do |wish| %>
                                <div class="flex flex-row">
                                    <div class="mt-1 mr-5"><img src="/images/coeurbleu.png" ></div>
                                    <div class=""><%= wish.type.typeName %></div>
                                </div>
                            <%end%>
                            <% propertybuyad.sharedfeaturewishes.where("wishlevel in (2)").each do |wish| %>
                                <div class="flex flex-row">
                                    <div class="mt-1 mr-5"><img src="/images/coeurbleu.png" ></div>
                                    <div class=""><%= wish.type.typeName %></div>
                                </div>
                            <%end%>
                        </div>
                    </div>       
                   
                </div>
            </div>            
            <div class="mt-8">  
                <span class="text-2xl font-medium">Ne souhaite absolument pas !</span>
                <div class="grid static gap-5 grid-cols-1 sm:grid-cols-2 md:grid-cols-4 xl:grid-cols-4 h-20 mt-8 bg-red-100 text-xl pt-6 ">                    
                    <% propertybuyad.sharedfeaturewishes.where("wishlevel in (1)").each do |wish| %>
                        <div class="flex flex-row">
                            <div class="mt-1 mr-5"><img src="/images/croix.png" ></div>
                            <div class=""><%= wish.type.typeName %></div>
                        </div>
                    <%end%>
                </div>                
            </div>
            <div class="flex flex-row-reverse mt-4">
                <div class=""><%= " / Ref: #{propertybuyad.classifiedad.adReference}" %></div>
                <div class=""><%= "Publiée le #{propertybuyad.classifiedad.publicationdate}" %></div>
            </div>            
            <div class="flex justify-center mt-4 mb-10">
                <div class="rounded-md shadow">
                    <a href="#" class=" flex px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 md:py-4 md:text-lg md:px-10 ">
                        Je connais quelqu'un
                    </a>
                </div>
            </div>

        </div>
    </div>
  <!-- Footer -->
  <%= render "shared/footer" %>
</div>

<div style="border:1px solid">
    
    <%= render partial:'shared/showclassified', locals: {ad:propertybuyad} %>

    <div>
        <p>Localisation du Bien</p>
        <p>
            Budget: 
            <%= propertybuyad.budget %>
        </p>
        <p>
            Apport: 
            <%= propertybuyad.supply %>
        </p>
        <p>
            Financement: 
            <%= propertybuyad.financing %>
        </p>
        <p>
            Description: 
            <%= propertybuyad.description %>
        </p>        
    </div>
    <div>
        <%= render partial:'showwishes', locals: {wishes:propertybuyad.propertytypewishes , wishescat: 'Type de bien recherché' } %>
        <%= render partial:'showwishes', locals: {wishes:propertybuyad.propertystatewishes , wishescat: 'Nature du bien recherché' } %>
        <%= render partial:'showwishes', locals: {wishes:propertybuyad.propertydetailwishes , wishescat: 'Détails de bien recherché' } %>
        <%= render partial:'showwishes', locals: {wishes:propertybuyad.insidefeaturewishes , wishescat: "Caractéristiques de l'intérieur recherchéeé" } %>
        <%= render partial:'showwishes', locals: {wishes:propertybuyad.outsidefeaturewishes , wishescat: 'Caractéristiques exterieur recherchées' } %>
        <%= render partial:'showwishes', locals: {wishes:propertybuyad.sharedfeaturewishes , wishescat: 'Caractéristiques recherchées des parties communes ' } %>
    </div>
    
</div>